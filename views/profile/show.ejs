<%- include("../partials/html-head")  %> 
<%- include("../partials/nav")  %> 

<main>
  <br>
  <div class="card text-center">
    <div class="card-body">
      <% if (profile !== null) { %>
        <h2>Profile</h2>
        <h5> Name: </h5>
        <p><%= profile.name %> </p>
        <h5> Email: </h5>
        <p><%= profile.email %> </p>
        <h5> Phone Number: </h5>
        <% if (profile.phoneNum === "") { %>
          <p> No phone number added</p>
        <% } else{%>
          <p><%= profile.phoneNum %> </p>
        <% } %>
        <h5> Teams: </h5>
        <% if (profile.teams.length > 0) { %>
          <% profile.teams.forEach(team => { %>
            <p> <a href="/teams/<%=team._id%>"><%= team.name %> </a> </p>
          <% }) %>
        <% } else{ %>
          <p> You are not a part of any team yet</p>
        <% } %>
        <h5> Preferred Positions: </h5>
        <% if (profile.preferredPositions.length === 0) { %>
          <p> No positions added</p>
        <% } else {%>
          <p><%= profile.preferredPositions %> </p>
        <% } %>
        <% if (user) { %>
          <% if (user.playerProfile._id.equals(profile._id)){ %>
            <form action=<%=`/profile/${profile._id}/edit` %> method="GET">
              <button class="btn btn-dark"> Update Profile </button>
            </form>
            <br>
          <% } %>
        <% } %>
      <% }else{ %>
        <h1>User is not signed in</h1>
      <% } %>
    </div>
  </div>
  
</main>

<%- include("../partials/footer")  %> 